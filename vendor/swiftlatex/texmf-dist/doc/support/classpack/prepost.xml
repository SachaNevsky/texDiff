<!DOCTYPE refsection 
  PUBLIC "+//Silmaril//DTD DocBook 5.0 for DocTeX//EN" "doctexbook-master.dtd">
<!-- This is the lookup table prepost.xml used by the db2dtx.xsl
  program, part of the classpack package for maintaining LaTeX
  packages and document classes. It is documented in the manual for
  classpack. 

  To sort the contents of this file by package name, use the command
     lxsort refsection/procedure step @remap prepost.xml 

  To list the packages specified, use the command
     lxprintf -e step "%s %s\n" ancestor::procedure/@xml:id @remap prepost.xml
-->
<refsection>
  <title>Commands to use before and after packages</title>
  <procedure xml:id="prepackage">
    <!-- FONTS -->
    <step condition="doc cls sty" remap="fix-cm">
      <para>Allow infinitely-variable font scaling.</para>
    </step>
    <step condition="cls sty" remap="avant">
      <para>Adobe Avant Garde as the default sans-serif typeface.</para>
    </step>
    <step condition="cls sty" remap="mathdesign">
      <para>Use the alternate MathDesign fonts for mathematics.</para>
    </step>
    <step condition="cls sty" remap="charter">
      <para>Bitstream Charter as the default typeface</para>
    </step>
    <step condition="cls sty" remap="courier">
      <para>Adobe Courier as the default monospace (typewriter)
	typeface.</para>
    </step>
    <step condition="cls doc sty" remap="emerald">
      <para>Collection of handwriting typefaces.</para>
    </step>
    <step remap="dejavu" condition="cls sty doc" conformance="nosc">
      <para>Sets the DejaVu typeface as the default.</para>
    </step>
    <step condition="cls sty doc" remap="DejaVuSans" conformance="nosc">
      <para>Sets the DejaVu typeface as the default sans-serif typeface.</para>
    </step>
    <step condition="cls sty doc" remap="DejaVuSerif" conformance="nosc">
      <para>Sets the DejaVu typeface as the default serif typeface.</para>
    </step>
    <step condition="cls sty" remap="eucal">
      <para>Add the AMS Euler calligraphic math letters.</para>
    </step>
    <step condition="doc cls sty" remap="aller">
      <para>Sans-serif typeface by Dalton Maag available free from
	<uri>http://www.fontsquirrel.com/fonts/Aller</uri></para>
    </step>
    <step condition="cls sty" remap="amssymb">
      <para>Provide for the American Mathematical Society's symbols
	(see their documentation for details).</para>
    </step>
    <step role="utf8x" remap="inputenc" condition="cls sty">
      <para>UTF-8 is the default character set, to allow for use of
	any character in any writing system. Some characters are not
	specified for all fonts, so may have to be specified
	manually.</para>
    </step>
    <step condition="doc" remap="inputenc" role="utf8x">
      <constructorsynopsis condition=""/>
      <constraintdef>
	<cmdsynopsis>
	  <command>\let\SavedShow\show</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="cls sty" remap="fontenc" role="T1">
      <para>Extended font encoding to handle UTF-8.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="cls sty" remap="marvosym">
      <para>Selection of symbols by Martin Vogel, including the Euro
      sign.</para> 
    </step>
    <step condition="cls sty" remap="helvet" role="scaled=0.8667">
      <para>Adobe Helvetica as the default sans-serif typeface.</para>
    </step>
    <step condition="cls sty" remap="lmodern">
      <para>The updated Computer Modern typeface as the default.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="cls sty" remap="manfnt">
      <para>Knuth's <wordasword>manual</wordasword> font (as in
	<citetitle>The &TeX;book</citetitle>), used for symbols.</para>
    </step>
    <step condition="cls sty" remap="mathptmx">
      <para>Adobe Times New Roman as the default serif typeface, with
	extended (non-Adobe) Times math.</para>
    </step>
    <step condition="doc cls sty" remap="warnock">
      <para>Serif typeface by Robert Slimbach available under licence
	from Adobe.</para>
    </step>
    <step condition="cls sty" remap="pslatex">
      <para>Provides Times, Helvetica, and Courier, but chiefly used
      for its specially-narrowed Courier.</para>
    </step>
    <step condition="doc" remap="mflogo">
      <para>Provides the &METAFONT; and &METAPOST; logos.</para>
      <constructorsynopsis condition=""/>
    </step>
    <!-- BIBLIO -->
    <step condition="doc" remap="apacite">
      <para>Bibliographic commands and formatting for the American
      Psychological Association journals.</para>
      <constraintdef>
	<cmdsynopsis>
	  <command>\AtBeginDocument{\edef\ApaciteRestoreAtCode{\catcode`@=\the\catcode`@\relax}}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="cls sty" remap="bibunits">
      <para>Provision for per-chapter bibliographies.</para>
    </step>
    <!-- UTILS -->
    <step remap="array" condition="cls sty doc">
      <para>Additional column formatting for tables.</para>
      <constructorsynopsis condition="tgroup">
      </constructorsynopsis>
      <constructorsynopsis condition="colspec">
	<methodparam>
	  <parameter>condition</parameter>
	</methodparam>
	<methodparam>
	  <parameter>colwidth</parameter>
	</methodparam>
	<methodparam>
	  <parameter>char</parameter>
	  <modifier>m</modifier>
	</methodparam>
	<methodparam>
	  <parameter>char</parameter>
	  <modifier>b</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step remap="dcolumn" condition="doc">
      <para>Column formatting for decimal-aligned values</para>
      <constructorsynopsis condition="colspec">
	<methodparam>
	  <parameter>align</parameter>
	  <modifier>char</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="cls sty" remap="babel">
      <para>Add H&ampers;J support and cultural changes for many
	languages.</para> 
    </step>
    <step condition="doc cls sty" remap="calc">
      <para>Required for the calculation of extra widths for margin
	adjustment.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="cls" remap="ccaption">
      <para>Allows modifications to the layout of table and figure
	captions.</para>
    </step>
    <step remap="etoolbox" condition="doc cls sty">
      <para>An e-&TeX; toolbox for class and package authors</para>
    </step>
    <step condition="cls sty doc" remap="draftwatermark">
      <para>Allow the creation of a background watermark saying
      <wordasword>DRAFT</wordasword>.</para>
    </step>
    <step condition="cls doc sty" remap="enumitem" role="inline">
      <para>List variants: inline and compact. THIS REPLACES PARALIST
      AND MDWLIST.</para>
      <constructorsynopsis condition="orderedlist">
	<methodparam>
	  <parameter>spacing</parameter>
	  <modifier>compact</modifier>
	</methodparam>
      </constructorsynopsis>
      <constructorsynopsis condition="itemizedlist">
	<methodparam>
	  <parameter>spacing</parameter>
	  <modifier>compact</modifier>
	</methodparam>
      </constructorsynopsis>
      <constructorsynopsis condition="variablelist">
      </constructorsynopsis>
    </step>
    <step condition="doc cls sty" remap="fancybox">
      <para>This provides round-cornered and drop-shadow boxes.</para>
      <constructorsynopsis condition="guibutton"/>
      <constructorsynopsis condition="sidebar"/>
    </step>
    <step condition="cls sty" remap="fancyhdr">
      <para>Do running headers and footers.</para>
    </step>
    <step condition="cls sty" remap="fancyvrb">
      <para>Add more robust verbatim facilities.</para>
      <constructorsynopsis condition="programlisting"/>
    </step>
    <step condition="cls sty" remap="textcase">
      <para>Provides a more sophisticated casing function than the
      default.</para>
    </step>
    <step condition="cls sty" remap="float">
      <para>Allows redesigning of floats and creation of new float
      types.</para> 
    </step>
    <step condition="doc cls sty" remap="fmtcount">
      <para>Allows for the automated formatting of ordinal
	representations of numbers and counters as strings (eg first,
	second, third, etc).</para>
      <constructorsynopsis condition="xref">
	<methodparam>
	  <funcparams>linkend</funcparams>
	  <modifier>varlistentry</modifier>
	</methodparam>
	<methodparam>
	  <funcparams>linkend</funcparams>
	  <modifier>listitem</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
<!-- defaults for Letter
* driver: pdftex
* paper: letterpaper
* layout: <same size as paper>
* layoutoffset:(h,v)=(0.0pt,0.0pt)
* modes: 
* h-part:(L,W,R)=(72.26999pt, 469.75502pt, 72.26999pt)
* v-part:(T,H,B)=(72.26999pt, 650.43001pt, 72.26999pt)
* \paperwidth=614.295pt
* \paperheight=794.96999pt
* \textwidth=469.75502pt
* \textheight=650.43001pt
* \oddsidemargin=0.0pt
* \evensidemargin=0.0pt
* \topmargin=-37.0pt
* \headheight=12.0pt
* \headsep=25.0pt
* \topskip=10.0pt
* \footskip=30.0pt
* \marginparwidth=65.0pt
* \marginparsep=11.0pt
* \columnsep=10.0pt
* \skip\footins=9.0pt plus 4.0pt minus 2.0pt
* \hoffset=0.0pt
* \voffset=0.0pt
* \mag=1000
* \@twocolumnfalse
* \@twosidefalse
* \@mparswitchfalse
* \@reversemarginfalse
* (1in=72.27pt=25.4mm, 1cm=28.453pt)
-->
<!-- defaults for A4
* driver: pdftex
* paper: a4paper
* layout: <same size as paper>
* layoutoffset:(h,v)=(0.0pt,0.0pt)
* modes: 
* h-part:(L,W,R)=(71.13188pt, 455.24411pt, 71.13188pt)
* v-part:(T,H,B)=(71.13188pt, 702.78308pt, 71.13188pt)
* \paperwidth=597.50787pt
* \paperheight=845.04684pt
* \textwidth=455.24411pt
* \textheight=702.78308pt
* \oddsidemargin=-1.1381pt
* \evensidemargin=-1.1381pt
* \topmargin=-38.1381pt
* \headheight=12.0pt
* \headsep=25.0pt
* \topskip=10.0pt
* \footskip=30.0pt
* \marginparwidth=57.0pt
* \marginparsep=11.0pt
* \columnsep=10.0pt
* \skip\footins=9.0pt plus 4.0pt minus 2.0pt
* \hoffset=0.0pt
* \voffset=0.0pt
* \mag=1000
* \@twocolumnfalse
* \@twosidefalse
* \@mparswitchfalse
* \@reversemarginfalse
* (1in=72.27pt=25.4mm, 1cm=28.453pt)
-->
    <step condition="doc" remap="geometry"
      role="textwidth=150mm,textheight=8.5in">  
      <!-- width from A4, height from Letter, assuming 25mm/1in margins  -->
      <para>Needed to allow resettable left margin to take account of
	whatever the widest macro name is; and to adjust margins on
	default base article package so that the document fits
	acceptably on both A4 and Letter paper. Assuming a 25mm (1in)
	margin, this means a text area of
	\[\min\big\{8½″-2″\,\big\|\,210\mbox{mm}-2″\big\}×
	\min\big\{9″-2″\,\big\|\,297\mbox{mm}-2″\big\}\]which I
	calculate as 6.27″×9″ or 159mm\,×\,229mm.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="cls sty" remap="geometry">
      <para>Package for establishing margins and text area.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="cls sty" remap="graphicx">
      <para>Provide for graphics (PNG, JPG, or PDF format (only) for
	pdflatex; EPS format (only) for standard &LaTeX;).</para>
      <constructorsynopsis condition="imagedata">
	<methodparam>
	  <parameter>fileref</parameter>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="cls sty" remap="hyperref">
      <para>Provides complex settings for making hypertext (clickable)
      links in PDF and PS output for URIs, cross-references, and
      bibliographic citations.</para>
    </step>
    <step condition="cls sty" remap="ifpdf">
      <para>Allow detection of PDF or DVI mode.</para>
    </step>
    <step condition="cls sty" remap="ifsym" role="geometry">
      <para>Geometric symbols from the <filename>if</filename>
      fonts.</para> 
    </step>
    <step condition="cls sty" remap="ifthen">
      <para>Package to enable if--then--else conditional
      processing.</para>
    </step>
    <step condition="cls sty" remap="lipsum">
      <para>Package to generate <wordasword>Greeked</wordasword> text
      (actually cod-Latin) as a placeholder.</para>
    </step>
    <step condition="cls sty" remap="listings">
      <para>Provides syntactic fontification or formatting
      (<phrase>pretty-printing</phrase>) of verbatim text according to
      the computer language used.</para>
      <constructorsynopsis condition="programlisting">
      </constructorsynopsis>
    </step>
    <step condition="doc cls sty" remap="makeidx">
      <para>Package for creating indexes.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="cls sty" remap="mdwlist">
      <para>DEPRECATED: USE ENUMITEM. Mark Wooding's package for
	compact lists.</para>
    </step>
    <step condition="cls sty" remap="minitoc">
      <para>Provides a <wordasword>mini</wordasword> (per-chapter or
      per-section) Table of Contents.</para>
    </step>
    <step condition="cls sty" remap="multicol">
      <para>Provides multi-column typesetting.</para>
      <constructorsynopsis condition="simplelist">
	<methodparam>
	  <parameter>role</parameter>
	  <modifier>twocol</modifier>
	</methodparam>
      </constructorsynopsis>
      <constructorsynopsis condition="orderedlist">
	<methodparam>
	  <parameter>role</parameter>
	  <modifier>twocol</modifier>
	</methodparam>
      </constructorsynopsis>
      <constructorsynopsis condition="procedure">
	<methodparam>
	  <parameter>role</parameter>
	  <modifier>twocol</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="cls sty doc" remap="multirow">
      <para>Provides multi-column typesetting.</para>
      <constructorsynopsis condition="entry">
	<methodparam>
	  <parameter>morerows</parameter>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="doc cls sty" remap="nicefrac">
      <para>Slanted fractions, even in math mode.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="doc cls sty" remap="paralist">
      <para>DEPRECATED: USE ENUMITEM. Provides for in-line lists.</para>
    </step>
    <step condition="doc cls sty" remap="parskip">
      <para>Creates paragraphs separated by white-space with no
	indentation.</para>
      <constructorsynopsis condition=""/>
    </step>
    <step condition="doc cls sty" remap="pdfpages">
      <para>Allow embedding of individual pages from another PDF
	document.</para>
      <constructorsynopsis condition="imagedata">
	<methodparam>
	  <parameter>format</parameter>
	  <modifier>pdf</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="doc cls sty" remap="ragged2e">
      <para>Allow hyphenation in ragged setting.</para>
    </step>
    <step condition="doc cls sty" remap="sectsty">
      <para>Allows the section headings to be re-styled.</para>
    </step>
    <step condition="cls sty" remap="setspace">
      <para>Provide 1½ or double line spacing.</para>
    </step>
    <step condition="cls sty" remap="soul">
      <para>Provides letter-spacing, strikeout, and underlining.</para>
    </step>
    <step condition="cls sty" remap="textcomp">
      <para>Additional commands for common symbols and punctuation.</para>
    </step>
    <step condition="doc cls sty" remap="ucccrest">
      <para>University College Cork crest (restricted).</para>
    </step>
    <step condition="doc cls sty" remap="ulem" role="normalem">
      <para>Underlining as an option (<emphasis>not</emphasis>
	automatically replacing italics).</para>
      <constructorsynopsis condition="link">
      </constructorsynopsis>
    </step>
    <step condition="doc cls sty" remap="url">
      <para>Handling of URI formatting.</para>
      <constructorsynopsis condition="ulink">
      </constructorsynopsis>
      <constructorsynopsis condition="uri">
      </constructorsynopsis>
      <constructorsynopsis condition="email">
      </constructorsynopsis>
      <constructorsynopsis condition="">
	<methodparam>
	  <parameter>methodsynopsis</parameter>
	  <modifier>href</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="doc" remap="chicago">
      <para>University of Chicago reference and citation style.</para>
      <constructorsynopsis condition="bibliography">
	<methodparam>
	  <parameter>xreflabel</parameter>
	  <modifier>chicago</modifier>
	</methodparam>
      </constructorsynopsis>
    </step>
    <step condition="doc cls sty" remap="varioref">
      <para>Provides extended formatting of cross-references.</para>
      <constructorsynopsis condition="xref"/>
    </step>
    <step condition="cls sty" remap="xargs">
      <para>Allow for multiple optional arguments.</para>
    </step>
    <step condition="doc cls sty" remap="xcolor" role="svgnames">
      <para>Provide color.</para>
      <constructorsynopsis condition=""/>
    </step>
  </procedure>
  <procedure xml:id="postpackage">
    <step condition="doc" remap="apacite">
      <constraintdef>
	<cmdsynopsis>
	  <command>\AtBeginDocument{\ApaciteRestoreAtCode}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc" remap="dox">
      <para>Provides extra documentation commands to
	    distinguish types of macro being defined.</para>
      <constructorsynopsis condition=""/>
      <constraintdef>
	<cmdsynopsis>
	  <!-- define the names -->
	  <command>\doxitem{Attribute}{attribute}{attributes}</command>
	  <command>\doxitem{AttributeValue}{attributevalue}{attribute values}</command>
	  <command>\doxitem{Class}{class}{classes}</command>
	  <command>\doxitem{Colour}{colour}{colours}</command>
	  <command>\doxitem{Counter}{counter}{counters}</command>
	  <command>\doxitem{DTD}{dtd}{DTDs/Schemas}</command>
	  <command>\doxitem{Element}{element}{element types}</command>
	  <command>\doxitem{Entity}{entity}{entities}</command>
	  <command>\doxitem{Error}{error}{errors}</command>
	  <command>\doxitem{Function}{function}{functions}</command>
	  <command>\doxitem[macrolike]{Length}{length}{lengths}</command>
	  <command>\doxitem{Mode}{mode}{mode}</command>
	  <command>\doxitem{Option}{option}{options}</command>
	  <command>\doxitem{Package}{package}{packages}</command>
	  <command>\doxitem{Template}{template}{templates}</command>
	  <!-- a narrow font to display the tags in the userdoc -->
	  <command>\newcommand{\LabelFont}[2][\relax]{\strut
    {\fontencoding\encodingdefault
     \fontfamily{lmtt}\fontseries{lc}\selectfont#1#2}\space}</command>
	  <!-- how to print them in the margin -->
	  <command>\def\PrintDescribeAttribute#1{\LabelFont{@#1}}</command> 
	  <command>\def\PrintDescribeAttributeValue#1{\LabelFont[\itshape]{#1}}</command>
	  <command>\def\PrintDescribeClass#1{\LabelFont{#1}}</command> 
	  <command>\def\PrintDescribeColour#1{\LabelFont[\color{#1}]{#1}}</command>
	  <command>\def\PrintDescribeCounter#1{\LabelFont{#1}}</command>
	  <command>\def\PrintDescribeDTD#1{\LabelFont{#1}}</command>
	  <command>\def\PrintDescribeElement#1{\LabelFont{&lt;#1&gt;}}</command> 
	  <command>\def\PrintDescribeEntity#1{\LabelFont{\&amp;#1;}}</command>
	  <command>\def\PrintDescribeError#1{\LabelFont[\color{Red}!]{#1}}</command>
	  <command>\def\PrintDescribeFunction#1{\LabelFont{#1}}</command>
	  <command>\def\PrintDescribeLength#1{\LabelFont{#1}}</command>
	  <command>\def\PrintDescribeMode#1{\LabelFont[\sffamily]{\textlangle#1\textrangle}}</command>
	  <command>\def\PrintDescribeOption#1{\LabelFont[\itshape]{#1}}</command>
	  <command>\def\PrintDescribePackage#1{\LabelFont{#1}}</command> 
	  <command>\def\PrintDescribeTemplate#1{\LabelFont[\fontfamily{lmss}\fontseries{sbc}\selectfont]{#1}}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc cls sty" remap="enumitem" role="inline">
      <constraintdef>
	<cmdsynopsis>
	  <command>\setlist[description]{style=unboxed}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc" remap="inputenc" role="utf8x">
      <constraintdef>
	<cmdsynopsis>
	  <command>\AtBeginDocument{\let\show\SavedShow}</command>
	  <command>\DeclareUnicodeCharacter{9251}{\textvisiblespace}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="cls sty" remap="inputenc" role="utf8x">
      <constraintdef>
	<cmdsynopsis>
	  <command>\PrerenderUnicode{–}</command>
	  <command>\PrerenderUnicode{š}</command>
	  <command>\PrerenderUnicode{ć}</command>
	  <command>\PrerenderUnicode{Å}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc" remap="listings">
      <para>Provides better formatting of listings, with syntactic
	highlighting for &LaTeX; and other languages.</para>
      <constraintdef>
	<cmdsynopsis>
	  <command>\lstdefinelanguage[DocBook]{XML}
  {morekeywords={abstract,address,affiliation,annotation,arg,author,
   book,chapter,classname,cmdsynopsis,command,constraintdef,contrib,
   copyright,cover,date,email,emphasis,envar,filename,firstname,
   footnote,guibutton,guilabel,guimenu,guimenuitem,guisubmenu,
   holder,info,itemizedlist,listitem,literal,member,option,
   orderedlist,orgdiv,orgname,package,para,parameter,part,
   personname,phrase,procedure,productname,programlisting,quote,
   refsection,remark,constructorsynopsis,methodparan,modifier,
   funcparams,olink,bibliography,biblioentry,biblioset,subtitle,
   artpagenums,volumenum,issuenum,
   releaseinfo,replaceable,revdescription,revhistory,revision,
   sect1,sect2,sect3,sect4,seg,seglistitem,segmentedlist,segtitle,
   simplelist,step,surname,systemitem,tag,term,title,uri,userinput,
   variablelist,varlistentry,wordasword,xref,year,xml:id,xlink:href},}
	  </command>
	  <command>\lstdefinelanguage[TEI]{XML}
  {morekeywords={TEI.2,teiHeader,div2,head,p,num,val,xml:id},
  }[keywords,comments,strings]
	  </command>
	  <command>\lstloadlanguages{[LaTeX]TeX,[DocBook]XML,XSLT,bash,R}</command>
	  <command>\lstset{basicstyle=\small\color{Black}\ttfamily,
  literate=
    {Ö}{{\"O}}1
    {Ä}{{\"A}}1
    {Ü}{{\"U}}1
    {ß}{{\ss}}2
    {ü}{{\"u}}1
    {á}{{\'a}}1
    {é}{{\'e}}1
    {í}{{\'i}}1
    {ó}{{\'o}}1
    {ú}{{\'u}}1
    {ä}{{\"a}}1
    {ö}{{\"o}}1,
  keywordstyle=\color{DarkGreen}\bfseries,
  commentstyle=\color{Gray}\upshape,
  stringstyle=\color{DarkRed}\upshape,
  emphstyle=\color{MediumBlue}\itshape,
  showstringspaces=false,
  columns=fullflexible,
  keepspaces=true}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc cls sty" remap="makeidx">
      <constraintdef>
	<cmdsynopsis>
	  <command>\makeindex</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc" remap="nicefrac">
      <constraintdef>
	<cmdsynopsis>
	  <command>\def\textonehalf{\ensuremath{\nicefrac12}}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc" remap="sectsty">
      <constraintdef>
	<cmdsynopsis>
	  <command>\allsectionsfont{\sffamily}</command>
	  <command>\renewcommand*{\descriptionlabel}[1]{\hspace\labelsep
                                \sffamily\bfseries #1}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="doc sty cls" remap="varioref">
      <constraintdef>
	<cmdsynopsis>
	  <command>\vrefwarning</command>
	  <command>\labelformat{chapter}{Chapter~#1}</command>
	  <command>\labelformat{chapter}{\@chapapp~#1}</command>
	  <command>\labelformat{section}{section~#1}</command>
	  <command>\labelformat{subsection}{section~#1}</command>
	  <command>\labelformat{subsubsection}{section~#1}</command>
	  <command>\labelformat{paragraph}{section~#1}</command>
	  <command>\labelformat{figure}{Figure~#1}</command>
	  <command>\labelformat{table}{Table~#1}</command>
	  <command>\labelformat{item}{item~#1}</command>
	  <command>\renewcommand{\reftextcurrent}{elsewhere on this
	    page}</command> 
	  <command>\def\reftextafter{on the
	    \reftextvario{next}{following} page}</command> 
	</cmdsynopsis>
      </constraintdef>
    </step>
    <step condition="cls sty doc" remap="xcolor">
      <para>There seems to be a bug in the T1 encoding of some package
	(unidentified, but possibly <package>xcolor</package>) which
	uses the command <command>T1</command>, which is an
	impossibility (no digits allowed in command names). So we fake
	it here to stop &LaTeX; complaining, by dropping the first
	argument on the floor.</para>
      <constraintdef>
	<cmdsynopsis>
	  <command>\@ifundefined{T}{\newcommand{\T}[2]{{\fontencoding{T1}\selectfont#2}}}{}</command>
	</cmdsynopsis>
      </constraintdef>
    </step>
  </procedure>
</refsection>
