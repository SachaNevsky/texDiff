%% 
%%  A DANTE-Edition example
%% 
%%  Beispiel 02-08-1 on page 36.
%% 
%%  Copyright (C) 2010 Voss
%% 
%%  It may be distributed and/or modified under the conditions
%%  of the LaTeX Project Public License, either version 1.3
%%  of this license or (at your option) any later version.
%% 
%%  See http://www.latex-project.org/lppl.txt for details.
%% 

% Show page(s) 1

\documentclass[size=11pt,style=simple]{powerdot}
\pagestyle{empty}
\setcounter{page}{6}
\usepackage[utf8]{inputenc}
\usepackage[ngerman]{babel}
\usepackage{animate,multido}
  %-------------------- write timeline file ---------------------%
  \newwrite\TimeLineFile
  \immediate\openout\TimeLineFile=sinus.txt
  \immediate\write\TimeLineFile{::0x0,1}%
  %remaining frames: overlay filled circle at its current postion
  \multido{\i=2+1}{90}{\immediate\write\TimeLineFile{::\i % put filled circle on top
  }}
  \immediate\closeout\TimeLineFile

\usepackage{animate,multido,pstricks-add}

\begin{document}
\begin{slide}{Animate}
\psset{xunit=\pstRadUnit,dashadjust=false}
\begin{animateinline}[controls,timeline=sinus.txt,begin={\begin{pspicture}(-0.5,-1.5)(6.6,2)},
  end={\end{pspicture}}]{24}
  \psaxes[trigLabels,trigLabelBase=3]{->}(0,0)(-2mm,-1.5)(6.5,1.5)[t,-90][$y=\sin(t)$,0]
  \psplot[xunit=1cm,linestyle=dashed,algebraic]{0}{\psPiTwo}{sin(x)}
  \newframe
  \multiframe{91}{n=0+4}{\psset{xunit=1cm,linecolor=blue}
    \pscustom[xunit=1cm,fillcolor=blue!30,fillstyle=solid,linestyle=none,algebraic,dimen=inner]{%
      \psplot{0}{\n\space DegtoRad}{sin(x)}
      \psline(!\n\space DegtoRad 0)}
    \psplot[xunit=1cm,linestyle=dashed,linecolor=black,algebraic]{0}{\n\space DegtoRad}{sin(x)}
    \psdot[opacity=0.4,dotsize=3mm](!\n\space dup DegtoRad exch sin)
    \psline[linestyle=dashed](!\n\space dup DegtoRad exch sin)(!\n\space DegtoRad 0)}
\end{animateinline}
\end{slide}
\end{document}
