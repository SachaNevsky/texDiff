%% 
%%  Ein Beispiel der DANTE-Edition
%%  
%%  2. Auflage
%% 
%%  Beispiel 15-02-59 auf Seite 743.
%% 
%%  Copyright (C) 2016 Herbert Voss
%% 
%%  It may be distributed and/or modified under the conditions
%%  of the LaTeX Project Public License, either version 1.3
%%  of this license or (at your option) any later version.
%% 
%%  See http://www.latex-project.org/lppl.txt for details.
%% 
%% 
%% ==== 
verbatimtex
%% 
\documentclass[]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{textcomp}
\let\ds\displaystyle
\begin{document}
etex
% --- start of displayed preamble in the book ---
input metaobj;
% --- end of displayed preamble in the book ---
beginfig(1)
newBox.m3(btex $\Gamma$ etex) "framed(false)";
newBox.m4(btex $\tilde X$ etex) "framed(false)";
newBox.m5(btex $\ds\tilde\Gamma_k$ etex) "framed(false)";
newBox.m7(btex $X$ etex) "framed(false)";
newBox.m8(btex $\ds\Gamma_k$ etex) "framed(false)";
newMatrix.M(3,3)(nb,nb,m3,m4,m5,nb,m7,m8,nb) "hsep(2cm)", "vsep(2cm)";
newBox.l47(btex $p_x$ etex) "framed(false)"; l47.e=0.5(m4.w+m7.w)+(2mm,0);
newBox.l58(btex $\ds\tilde\Gamma_k$ etex) "framed(false)";
l58.e=0.5(m5.w+m8.w)+(2mm,0);
newBox.l45(btex $\tilde p_k$ etex) "framed(false)";l45.s=0.5(m4.n+m5.n)-(0,2mm);
newBox.l78(btex $p_k$ etex) "framed(false)"; l78.s=0.5(m7.n+m8.n)-(0,2mm);
newBox.l34(btex $\tilde p_k$ etex) "framed(false)"; l34.n=0.5(m3.c+m4.c);
newBox.l38(btex $\tilde p_{\Gamma k}$ etex) "framed(false)"; l38.c=0.5(m3.c+m8.c);
M.c=origin; drawObj(M,l47,l58,l45,l78,l34,l38);
ncline(m4)(m7);ncline(m5)(m8); ncline(m5)(m4);ncline(m8)(m7);
ncarc(m3)(m4) "arcangle(-10)";ncline(m3)(m5); ncarc(m3)(m8);
newBox.l35(btex $\varphi$ etex) "framed(false)", "filled(true)", "fillcolor(white)";
l35.c=0.5(m3.c+m5.c); drawObj(l35); % wegen Ãœberschreiben
endfig;
end;
\end{document}
