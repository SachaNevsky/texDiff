%% 
%%  Ein Beispiel der DANTE-Edition
%%  
%%  2. Auflage
%% 
%%  Beispiel 15-02-44 auf Seite 734.
%% 
%%  Copyright (C) 2016 Herbert Voss
%% 
%%  It may be distributed and/or modified under the conditions
%%  of the LaTeX Project Public License, either version 1.3
%%  of this license or (at your option) any later version.
%% 
%%  See http://www.latex-project.org/lppl.txt for details.
%% 
%% 
%% ==== 
verbatimtex
%% 
\documentclass[]{article}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\begin{document}
etex
% --- start of displayed preamble in the book ---
input graph;
% --- end of displayed preamble in the book ---
beginfig(1)
draw
  begingraph(8cm,6cm);
    setrange(1900,0,1970,whatever);
    glabel.lft(btex Leistung in $10^{12}$ kW etex rotated 90, OUT);
    glabel.bot(btex Jahr etex, OUT);  path p[]; numeric t;
    gdata("data/mp/data5-mp.dat", $, t:=0; augment.p1($1,0);
      for j=2 upto 5: t:=t+scantokens $[j]; augment.p[j]($1,t); endfor; )
    picture Label[];
    Label2=btex Steinkohle etex; Label3=btex Erd√∂l etex;
    Label4=btex Erdgas etex; Label5=btex Wasserkraft etex;
    for j=5 downto 2:
      gfill p[j]--reverse p[j-1]--cycle withcolor 0.16j*white;
      glabel.lft(image(unfill bbox Label[j]; draw Label[j]), 0.7+length p[j]);
    endfor;
  endgraph;
endfig;
end;
\end{document}
